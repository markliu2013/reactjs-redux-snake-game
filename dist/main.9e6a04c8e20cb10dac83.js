(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+qSP":function(e,n,t){(e.exports=t("JPst")(!1)).push([e.i,"body {\n    margin: 0;\n    padding: 0;\n    background: #eeeeee;\n    font-family: Arial, sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 18px;\n    color: #000;\n}\na {\n    color: #0088cc;\n    text-decoration: none;\n}\na:hover {\n    text-decoration: underline;\n}\n\n.gameWrapper {\n    display: flex;\n    margin: 0 auto;\n    padding: 10px 0 0 0;\n    width: 960px;\n}\n.boardWrapper {\n    flex: 1;\n}\n.boardGrid {\n    float: left; /* fix width */\n    padding: 1px;\n    border: 1px solid #000;\n}\n.controlPanel {\n    padding: 20px 10px 0 10px;\n    width: 270px;\n    height: 500px;\n    border: 1px solid #000;\n}\n.boardWrapper .square {\n    background: #fff;\n}\n.boardWrapper .square.onSnake {\n    background: #000;\n}\n.boardWrapper .square.onSnake.snakeHead {\n    background: #a00;\n}\n.boardWrapper .square.onFood {\n    background: #0a0;\n}\n.controlPanel h2 {\n    margin: 0 0 30px 0;\n    text-align: center;\n    font-size: 30px;\n    text-transform: capitalize;\n}\n.gameScoreInfo {\n    display: flex;\n    margin-bottom: 20px;\n}\n.gameScoreInfo span {\n    margin-right: 10px;\n}\n.gameScoreInfo strong {\n    flex: 1;\n    font-size: 50px;\n    color: #f00;\n}\n.gameInitControl > div {\n    display: inline-block;\n    margin-bottom: 10px;\n    margin-left: 5px;\n}\n.gameInitControl select {\n    margin-right: 5px;\n}\n.gameInitControl span {\n    margin-right: 5px;\n}\n.gameInitControl {\n    margin-bottom: 10px;\n}\n.controlButtons {\n    display: flex;\n    margin-bottom: 10px;\n    justify-content: space-evenly;\n}",""])},0:function(e,n,t){e.exports=t("tjUo")},p2bk:function(e,n,t){var a=t("+qSP");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t("aET+")(a,r);a.locals&&(e.exports=a.locals)},tjUo:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),r=t.n(a),o=t("i8i4"),c=t.n(o),u=t("ANjH"),i=t("/MKj"),s=t("rRWa"),l=t("1mXj"),d=t("lwsE"),p=t.n(d),f=t("W8MJ"),m=t.n(f),g=t("a1gu"),k=t.n(g),v=t("Nsbk"),b=t.n(v),h=t("PJYZ"),C=t.n(h),E=t("7W2i"),x=t.n(E),S=t("lSNA"),O=t.n(S),N=[1e3,900,800,700,600,500,400,300,200,100,50],w=[10,20,30],y=[10,20,30],j=t("TSYQ"),R=t.n(j),A=function(e){var n=e.isSnakeHead,t=e.isSnakeOn,a=e.isFoodOn,o=R()({square:!0,snakeHead:n,onSnake:t,onFood:a});return r.a.createElement("div",{className:o})},_=function(e){var n=e.gridRowNum,t=e.gridColNum,a=e.snakeData,o=e.foodData,c=n*t,u={display:"grid",gridGap:"2px",gridTemplateColumns:"repeat("+t+", 18px)",gridTemplateRows:"repeat("+n+", 18px)"};return r.a.createElement("div",{className:"boardWrapper"},r.a.createElement("div",{className:"boardGrid",style:u},Array(c).fill().map(function(e,n){return r.a.createElement(A,{key:n,isSnakeHead:n===a[a.length-1],isSnakeOn:a.includes(n),isFoodOn:n===o})})))},T=Object(i.b)(function(e){return{gridRowNum:e.board.gridRowNum,gridColNum:e.board.gridColNum,snakeData:e.snake.data,foodData:e.food.data}},null)(_),G=function(e){var n=e.score;return r.a.createElement("div",{className:"gameScoreInfo"},r.a.createElement("span",null,"Score: "),r.a.createElement("strong",null,n))},I=function(e){var n=e.options,t=e.value,a=e.onChange;return r.a.createElement("div",{className:"gridRowNumsSelect"},r.a.createElement("label",null,"Grid Rows:",r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)}},n.map(function(e,n){return r.a.createElement("option",{value:e,key:n},e)}))))},H=function(e){var n=e.options,t=e.value,a=e.onChange;return r.a.createElement("div",{className:"gridColNumsSelect"},r.a.createElement("label",null,"Grid Columns:",r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)}},n.map(function(e,n){return r.a.createElement("option",{value:e,key:n},e)}))))},D=function(e){var n=e.options,t=e.value,a=e.onChange;return r.a.createElement("div",{className:"gameSpeedSelect"},r.a.createElement("label",null,"Speed Level:",r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)}},n.map(function(e,n){return r.a.createElement("option",{value:e,key:n},n+1)}))))},M=function(e){var n=e.value,t=e.onChange;return r.a.createElement("div",null,r.a.createElement("label",null,"Can Hit Self:",r.a.createElement("input",{type:"checkbox",checked:n,onChange:function(e){t(e.target.checked)}})))},W="running",L="stopped",P="over",V=function(e){var n=e.onRestartClick,t=e.onToggleClick,a=e.onResetClick,o=e.onReviveClick,c=e.gameStatus;return r.a.createElement("div",{className:"controlButtons"},r.a.createElement("button",{onClick:n},"Restart"),r.a.createElement("button",{onClick:t,disabled:c===P},c===W?"Pause":"Continue"),r.a.createElement("button",{onClick:a},"Reset"),r.a.createElement("button",{onClick:o,disabled:c!==P},"Revive"))},F=function(e){var n=e.onSave,t=e.onLoad;return r.a.createElement("div",{className:"controlButtons"},r.a.createElement("button",{onClick:n},"Save"),r.a.createElement("button",{onClick:t},"Load"))},K=function(){return r.a.createElement("div",{className:"gameInfo"},r.a.createElement("p",null,"Tipsï¼škeep Pressing the arrow key, snake will keep moving."),r.a.createElement("p",null,"Written by Mark Liu ",r.a.createElement("a",{href:"https://github.com/markliu2013/reactjs-redux-snake-game/",target:"_blank"},"https://github.com/markliu2013/reactjs-redux-snake-game/")))},q=function(e){function n(){var e,t;p()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=k()(this,(e=b()(n)).call.apply(e,[this].concat(r))),O()(C()(t),"handleGridRowNumControlChange",function(e){t.props.onGridRowNumControlChange(e)}),O()(C()(t),"handleGridColNumControlChange",function(e){t.props.onGridColNumControlChange(e)}),O()(C()(t),"handleSnakeSpeedControlChange",function(e){t.props.onSnakeSpeedControlChange(e)}),O()(C()(t),"handleSnakeCanHitSelfChange",function(e){t.props.onSnakeCanHitSelfChange(e)}),t}return x()(n,e),m()(n,[{key:"render",value:function(){var e=this.props,n=e.gridRowNumOptions,t=e.gridRowNumControl,a=e.gridColNumOptions,o=e.gridColNumControl,c=e.snakeSpeedOptions,u=e.snakeSpeedControl,i=e.snakeCanHitSelfControl,s=e.score,l=e.gameStatus;return r.a.createElement("div",{className:"controlPanel"},r.a.createElement("h2",null,l),r.a.createElement(G,{score:s}),r.a.createElement("div",{className:"gameInitControl"},r.a.createElement(I,{options:n,value:t,onChange:this.handleGridRowNumControlChange}),r.a.createElement(H,{options:a,value:o,onChange:this.handleGridColNumControlChange}),r.a.createElement(D,{options:c,value:u,onChange:this.handleSnakeSpeedControlChange}),r.a.createElement(M,{value:i,onChange:this.handleSnakeCanHitSelfChange})),r.a.createElement(V,{gameStatus:l,onRestartClick:this.props.onRestartClick,onToggleClick:this.props.onToggleClick,onResetClick:this.props.onResetClick,onReviveClick:this.props.onReviveClick}),r.a.createElement(F,{onSave:this.props.onSaveClick,onLoad:this.props.onLoadClick}),r.a.createElement(K,null))}}]),n}(r.a.Component),J="RESTART_GAME",B="RESTART_GAME_BEFORE",U="TOGGLE_GAME",z="RESET_GAME",Y="RESET_GAME_BEFORE",Q="OVER_GAME",X="REVIVE_GAME",Z="CHANGE_GRID_ROW_NUM",$="CHANGE_GRID_COL_NUM",ee="CHANGE_SNAKE_SPEED",ne="CHANGE_SNAKE_CAN_HIT_SELF",te="SNAKE_GO",ae="SNAKE_GO_WITH_DATA",re="EAT_FOOD",oe="CREATE_FOOD",ce="CREATE_FOOD_WITH_DATA",ue="CHANGE_DIRECTION",ie="SAVE_STATE",se="LOAD_STATE",le="LOAD_STATE_WITH_DATA",de=function(){return{type:B}},pe=function(){return{type:Y}},fe=function(){return{type:Q}},me=function(){return{type:te}},ge=function(e){return{type:ae,value:e}},ke=function(){return{type:re}},ve=function(e){return{type:oe}},be=function(e){return{type:ce,value:e}},he=function(e){return{type:le,value:e}},Ce=Object(i.b)(function(e){return{gridRowNumOptions:w,gridRowNumControl:e.control.gridRowNum,gridColNumOptions:y,gridColNumControl:e.control.gridColNum,snakeSpeedOptions:N,snakeSpeedControl:e.control.snakeSpeedValue,snakeCanHitSelfControl:e.control.snakeCanHitSelf,score:e.snake.data.length,gameStatus:e.game.status}},function(e){return{onGridRowNumControlChange:function(n){e(function(e){return{type:Z,value:e}}(n))},onGridColNumControlChange:function(n){e(function(e){return{type:$,value:e}}(n))},onSnakeSpeedControlChange:function(n){e(function(e){return{type:ee,value:e}}(n))},onSnakeCanHitSelfChange:function(n){e(function(e){return{type:ne,value:e}}(n))},onRestartClick:function(){e({type:J})},onToggleClick:function(){e({type:U})},onResetClick:function(){e({type:z})},onReviveClick:function(){e({type:X})},onSaveClick:function(){e({type:ie})},onLoadClick:function(){e({type:se})}}})(q),Ee=function(e){function n(){return p()(this,n),k()(this,b()(n).apply(this,arguments))}return x()(n,e),m()(n,[{key:"setTimer",value:function(){this.timerID&&clearInterval(this.timerID);var e=this.props,n=e.snakeSpeed,t=e.onSnakeGo;this.timerID=setInterval(t,n)}},{key:"componentDidMount",value:function(){this.setTimer()}},{key:"componentDidUpdate",value:function(){this.setTimer()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){return null}}]),n}(r.a.Component),xe=(Ee=Object(i.b)(function(e){return{snakeSpeed:e.snake.speedValue}},function(e){return{onSnakeGo:function(){e(me())}}})(Ee),"up"),Se="down",Oe="left",Ne="right";var we=function(e){function n(){var e,t;p()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=k()(this,(e=b()(n)).call.apply(e,[this].concat(r))),O()(C()(t),"handleKeyPress",function(e){t.props.onKeyPress(e.keyCode)}),t}return x()(n,e),m()(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress),this.props.onLoaded()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){return r.a.createElement("div",{className:"gameWrapper"},r.a.createElement(T,null),r.a.createElement(Ce,null))}}]),n}(r.a.Component),ye=we=Object(i.b)(null,function(e){return{onKeyPress:function(n){e(function(e){return{type:ue,value:e}}(function(e){switch(e){case 37:return Oe;case 38:return xe;case 39:return Ne;case 40:return Se;default:return Oe}}(n))),e(me())},onLoaded:function(){e(ve())}}})(we),je=t("RIqP"),Re=t.n(je);function Ae(){return{board:{gridColNum:30,gridRowNum:30},food:{data:-1},game:{status:L},snake:{direction:Ne,data:Re()(Array(3).keys()),speedValue:500,canHitSelf:!1},control:{gridColNum:30,gridRowNum:30,snakeSpeedValue:500,snakeCanHitSelf:!1}}}var _e=Ae();var Te=t("o0o1"),Ge=t.n(Te),Ie=t("5rFJ"),He=function(e){return JSON.stringify(e)},De=function(e){return Number(e.snake.speedValue)},Me=function(e){return Boolean(e.snake.canHitSelf)},We=function(e){return e.game.status},Le=function(e){return e.snake.data},Pe=function(e){return Number(e.snake.data[e.snake.data.length-1])},Ve=function(e){return e.snake.direction},Fe=function(e){return Number(e.board.gridRowNum)},Ke=function(e){return Number(e.board.gridColNum)},qe=function(e){return Number(e.food.data)},Je=function(){try{var e=localStorage.getItem("state");if(null==e)return;return JSON.parse(e)}catch(e){return}},Be=function(e){try{localStorage.setItem("state",e)}catch(e){}},Ue=Ge.a.mark(un),ze=Ge.a.mark(sn),Ye=Ge.a.mark(ln),Qe=Ge.a.mark(dn),Xe=Ge.a.mark(pn),Ze=Ge.a.mark(fn),$e=Ge.a.mark(mn),en=Ge.a.mark(gn),nn=Ge.a.mark(kn),tn=Ge.a.mark(vn),an=Ge.a.mark(bn),rn=Ge.a.mark(hn),on=Ge.a.mark(Cn),cn=Ge.a.mark(En);function un(e){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.d)(de());case 2:return e.next=4,Object(Ie.d)(ve());case 4:case"end":return e.stop()}},Ue)}function sn(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.f)(J,un);case 2:case"end":return e.stop()}},ze)}function ln(e){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.d)(pe());case 2:return e.next=4,Object(Ie.d)(ve());case 4:case"end":return e.stop()}},Ye)}function dn(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.f)(z,ln);case 2:case"end":return e.stop()}},Qe)}function pn(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.f)(te,fn);case 2:case"end":return e.stop()}},Xe)}function fn(e){var n,t,a,r,o,c,u,i,s,l;return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.e)(We);case 2:if(e.sent!==W){e.next=59;break}return e.next=6,Object(Ie.e)(Fe);case 6:return n=e.sent,e.next=9,Object(Ie.e)(Ke);case 9:return t=e.sent,a=n*t,e.next=13,Object(Ie.e)(Ve);case 13:return r=e.sent,e.next=16,Object(Ie.e)(Le);case 16:return o=e.sent,e.next=19,Object(Ie.e)(Pe);case 19:return c=e.sent,e.next=22,Object(Ie.e)(Me);case 22:u=e.sent,i=!1,s=c,e.t0=r,e.next=e.t0===xe?28:e.t0===Se?31:e.t0===Oe?34:e.t0===Ne?37:40;break;case 28:return(s=c-t)<0&&(i=!0),e.abrupt("break",41);case 31:return(s=c+t)>a-1&&(i=!0),e.abrupt("break",41);case 34:return c%t==0&&(i=!0),s=c-1,e.abrupt("break",41);case 37:return(s=c+1)%t==0&&(i=!0),e.abrupt("break",41);case 40:return e.abrupt("break",41);case 41:if(!u&&o.includes(s)&&(i=!0),!i){e.next=47;break}return e.next=45,Object(Ie.d)(fe());case 45:e.next=59;break;case 47:return e.next=49,Object(Ie.e)(qe);case 49:if(l=e.sent,s!==l){e.next=57;break}return e.next=53,Object(Ie.d)(ke());case 53:return e.next=55,Object(Ie.d)(ve());case 55:e.next=59;break;case 57:return e.next=59,Object(Ie.d)(ge(s));case 59:case"end":return e.stop()}},Ze)}function mn(e){var n,t,a,r,o,c;return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.e)(Fe);case 2:return n=e.sent,e.next=5,Object(Ie.e)(Ke);case 5:return t=e.sent,e.next=8,Object(Ie.e)(Le);case 8:return a=e.sent,r=n*t,o=Re()(Array(r).keys()),c=o.filter(function(e){return!a.includes(e)}),e.next=14,Object(Ie.d)(be(c[(u=0,i=c.length-1,u=Math.ceil(u),i=Math.floor(i),Math.floor(Math.random()*(i-u+1))+u)]));case 14:case"end":return e.stop()}var u,i},$e)}function gn(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.f)(oe,mn);case 2:case"end":return e.stop()}},en)}function kn(e){var n;return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.e)(He);case 2:n=e.sent,Be(n);case 4:case"end":return e.stop()}},nn)}function vn(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.f)(ie,kn);case 2:case"end":return e.stop()}},tn)}function bn(e){var n;return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.b)(Je);case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Object(Ie.d)(he(n));case 6:case"end":return e.stop()}},an)}function hn(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.f)(se,bn);case 2:case"end":return e.stop()}},rn)}function Cn(){var e;return Ge.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(Ie.e)(De);case 3:return e=n.sent,n.next=6,Object(Ie.d)(me());case 6:return n.next=8,Object(Ie.c)(e);case 8:n.next=0;break;case 10:case"end":return n.stop()}},on)}function En(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)([sn(),dn(),pn(),gn(),vn(),hn(),Cn()]);case 2:case"end":return e.stop()}},cn)}t("p2bk");var xn=Object(s.a)(),Sn=(Object(l.createLogger)(),Object(u.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case B:var t=Object.assign({},e),a=Ae();return t.board.gridColNum=e.control.gridColNum,t.board.gridRowNum=e.control.gridRowNum,t.snake.speedValue=e.control.snakeSpeedValue,t.snake.canHitSelf=e.control.snakeCanHitSelf,t.snake.data=a.snake.data,t.snake.direction=a.snake.direction,t.game.status=W,t;case U:var r=Object.assign({},e);return r.game.status=e.game.status===W?L:W,r;case Y:var o=Object.assign({},Ae());return o.food.data=n.foodData,o;case Q:var c=Object.assign({},e);return c.game.status=P,c;case X:var u=Object.assign({},e),i=Number(e.snake.data[e.snake.data.length-1]),s=Number(e.board.gridRowNum),l=Number(e.board.gridColNum);switch(e.snake.direction){case xe:u.snake.direction=i<l/2?Ne:Oe;break;case Ne:u.snake.direction=i/l<s/2?Se:xe;break;case Se:u.snake.direction=i%l<l/2?Ne:Oe;break;case Oe:u.snake.direction=i/l<s/2?Se:xe}return u.game.status=W,u;case Z:var d=Object.assign({},e);return d.control.gridRowNum=n.value,d;case $:var p=Object.assign({},e);return p.control.gridColNum=n.value,p;case ee:var f=Object.assign({},e);return f.control.snakeSpeedValue=n.value,f;case ne:var m=Object.assign({},e);return m.control.snakeCanHitSelf=n.value,m;case ae:if(e.game.status!==W)return e;var g=Object.assign({},e),k=e.snake.data.slice();return k.shift(),k.push(n.value),g.snake.data=k,g;case re:if(e.game.status!==W)return e;var v=Object.assign({},e),b=e.snake.data.slice();return b.push(e.food.data),v.snake.data=b,v;case ce:var h=Object.assign({},e);return h.food.data=n.value,h;case ue:if(e.game.status!==W)return e;if(e.snake.direction===Oe&&n.value===Ne)return e;if(e.snake.direction===Ne&&n.value===Oe)return e;if(e.snake.direction===xe&&n.value===Se)return e;if(e.snake.direction===Se&&n.value===xe)return e;var C=Object.assign({},e);return C.snake.direction=n.value,C;case le:return Object.assign({},e,n.value);default:return e}},Object(u.a)(xn)));xn.run(En),c.a.render(r.a.createElement(i.a,{store:Sn},r.a.createElement(ye,null)),document.getElementById("root"))}},[[0,1,2]]]);
//# sourceMappingURL=main.9e6a04c8e20cb10dac83.js.map